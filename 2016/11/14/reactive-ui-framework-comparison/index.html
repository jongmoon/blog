<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>간단한 Reactive UI 의 Angular2, React 구현 비교 | 그냥 이것 저것 정리하기</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="ng2, angular2, react" />
    
    <meta name="description" content="프롤로그몇 년전 자동차 크기 비교를 시각적으로 해보고 싶은 마음에 http://moonserver.cafe24.com 를 만들어 보았습니다. (다만 호스팅이 머지않아 만료될 예정입니다. 어떻게 할지는 고민해 보려고 합니다.)

구조마크업12345678910&amp;lt;div id=&quot;stage&quot;&amp;gt;    &amp;lt;div class=&quot;cube&quot;&amp;gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="간단한 Reactive UI 의 Angular2, React 구현 비교">
<meta property="og:url" content="https://jongmoon.github.io/blog/2016/11/14/reactive-ui-framework-comparison/index.html">
<meta property="og:site_name" content="그냥 이것 저것 정리하기">
<meta property="og:description" content="프롤로그몇 년전 자동차 크기 비교를 시각적으로 해보고 싶은 마음에 http://moonserver.cafe24.com 를 만들어 보았습니다. (다만 호스팅이 머지않아 만료될 예정입니다. 어떻게 할지는 고민해 보려고 합니다.)

구조마크업12345678910&amp;lt;div id=&quot;stage&quot;&amp;gt;    &amp;lt;div class=&quot;cube&quot;&amp;gt;">
<meta property="og:image" content="https://jongmoon.github.io/blog/car-vs.gif">
<meta property="og:updated_time" content="2016-11-15T03:04:54.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="간단한 Reactive UI 의 Angular2, React 구현 비교">
<meta name="twitter:description" content="프롤로그몇 년전 자동차 크기 비교를 시각적으로 해보고 싶은 마음에 http://moonserver.cafe24.com 를 만들어 보았습니다. (다만 호스팅이 머지않아 만료될 예정입니다. 어떻게 할지는 고민해 보려고 합니다.)

구조마크업12345678910&amp;lt;div id=&quot;stage&quot;&amp;gt;    &amp;lt;div class=&quot;cube&quot;&amp;gt;">
<meta name="twitter:image" content="https://jongmoon.github.io/blog/car-vs.gif">
    

    

    

    <link rel="stylesheet" href="/blog/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/blog/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/blog/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/blog/css/style.css">

    <script src="/blog/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/blog/libs/lightgallery/css/lightgallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-85905838-1', 'auto');
ga('send', 'pageview');

</script>
    
    

</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/blog/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/blog/">Home</a>
                                </li>
                            
                                        
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/blog/',
        CONTENT_URL: '/blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/blog/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    uncategorized
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-reactive-ui-framework-comparison" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        간단한 Reactive UI 의 Angular2, React 구현 비교
        </h1>
    

            </header>
        
        
            <div class="article-subtitle">
                <a href="/blog/2016/11/14/reactive-ui-framework-comparison/" class="article-date">
    <time datetime="2016-11-14T13:02:35.000Z" itemprop="datePublished">2016-11-14</time>
</a>
                
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ng2-angular2-react/">ng2, angular2, react</a></li></ul>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <h2 id="프롤로그"><a href="#프롤로그" class="headerlink" title="프롤로그"></a>프롤로그</h2><p>몇 년전 <code>자동차 크기 비교</code>를 시각적으로 해보고 싶은 마음에 <a href="http://moonserver.cafe24.com" target="_blank" rel="external">http://moonserver.cafe24.com</a> 를 만들어 보았습니다. (다만 호스팅이 머지않아 만료될 예정입니다. 어떻게 할지는 고민해 보려고 합니다.)</p>
<p><img src="car-vs.gif" alt=""></p>
<h2 id="구조"><a href="#구조" class="headerlink" title="구조"></a>구조</h2><h3 id="마크업"><a href="#마크업" class="headerlink" title="마크업"></a>마크업</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"stage"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane one"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane two"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane three"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane four"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane five"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane six"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">stage.style.transform = <span class="string">"rotateY("</span> + currDeg + <span class="string">"deg)"</span>;</div></pre></td></tr></table></figure>
<h2 id="시도"><a href="#시도" class="headerlink" title="시도"></a>시도</h2><p>(유행에 편승해 블로그 방문자를 늘려 보려는 것은 아니구요 ^^;;)</p>
<p>문뜩 최근 각광받는 프레임워크들을 이용해 비교해 보면 유용할 것같다는 생각이 들어 최근 Angular2 를 사용해본 김에 React 와 Angular2 를 기반으로 간단히 만들고 비교해 보았습니다.</p>
<h2 id="알아보고-싶었던-것"><a href="#알아보고-싶었던-것" class="headerlink" title="알아보고 싶었던 것"></a>알아보고 싶었던 것</h2><ul>
<li>어떤 Framework 이 더 빠를까?</li>
<li>과연 Framework 를 쓰면 <code>성능</code>이 빨라질까 혹은 느려질까?</li>
<li>특히 스크롤이 생기는 부분에서 <code>버벅임</code>이 개선될 수 있을까?<ul>
<li>이를 위해 성능저하를 유발하는 배경지정을 해두었습니다. </li>
</ul>
</li>
</ul>
<blockquote>
<p>여기서는 로딩 성능이나 파일 크기등의 비교는 제외하였습니다.</p>
</blockquote>
<h2 id="어떻게-적용했나"><a href="#어떻게-적용했나" class="headerlink" title="어떻게 적용했나?"></a>어떻게 적용했나?</h2><p><code>TODO: github 에 반영 예정</code></p>
<p>어떤 스타일로 적용했는지 맛만 보기 위해 그냥 코드 일부만 발췌했습니다. </p>
<ul>
<li>Angular2 는 <code>View</code> 와 View 에 Data 를 제공하고 View 를 제어하는 부분이 독립적으로 분리 가능한 형태입니다.</li>
<li>반면 React 는 <code>View</code> 가 <code>jsx 파일</code>에 View 관련 제어 코드와 함께 녹여집니다.</li>
</ul>
<h3 id="Angular2"><a href="#Angular2" class="headerlink" title="Angular2"></a>Angular2</h3><p><strong>HTML</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- compare-view.component.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span></span></div><div class="line">      (<span class="attr">touchstart</span>)=<span class="string">"handleTouchStart($event)"</span></div><div class="line">      (<span class="attr">touchmove</span>)=<span class="string">"handleTouchMove($event)"</span></div><div class="line">      (<span class="attr">touchend</span>)=<span class="string">"handleTouchEnd($event)"</span>&gt;</div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"stage"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setStyles()"</span>&gt;</span> </div><div class="line">          <span class="tag">&lt;<span class="name">app-cube</span> *<span class="attr">ngFor</span>=<span class="string">"let item of cubeInfoList"</span> [<span class="attr">cubeInfo</span>]=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">app-cube</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- cube.component.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube backfaces"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setBackfacesStyles()"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane one"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setPlaneOneStyles()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane two"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setPlaneTwoStyles()"</span> [<span class="attr">class.car_left_full</span>]=<span class="string">"!cubeInfo.isBiggest"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane three"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setPlaneThreeStyles()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane four"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setPlaneFourStyles()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane five"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setPlaneFiveStyles()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"plane six"</span> [<span class="attr">ngStyle</span>]=<span class="string">"setPlaneSixStyles()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">app-size-indicator</span> [<span class="attr">cubeInfo</span>]=<span class="string">"cubeInfo"</span>&gt;</span><span class="tag">&lt;/<span class="name">app-size-indicator</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>SCRIPT</strong><br><figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//compare-view.component.ts</span></div><div class="line">setStyles() &#123;</div><div class="line">  <span class="keyword">let</span> style = &#123;</div><div class="line">    <span class="string">'width'</span>: <span class="keyword">this</span>.width + <span class="string">'px'</span>, </div><div class="line">    <span class="string">'left'</span>: <span class="keyword">this</span>.left + <span class="string">'px'</span>,</div><div class="line">    <span class="string">'transform'</span>: <span class="string">"rotateY("</span> + <span class="keyword">this</span>.roateDeg + <span class="string">"deg)"</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> style;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//cube.component.ts</span></div><div class="line">setBackfacesStyles() &#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="string">'left'</span>: <span class="keyword">this</span>.cubeInfo.pos.x + <span class="string">"px"</span>,</div><div class="line">    <span class="string">'top'</span>: <span class="keyword">this</span>.cubeInfo.pos.y + <span class="string">"px"</span>,</div><div class="line">    <span class="string">'transform'</span>: <span class="string">"translateZ("</span> + <span class="keyword">this</span>.cubeInfo.pos.z + <span class="string">"px)"</span>,</div><div class="line">    <span class="string">'width'</span>: <span class="keyword">this</span>.cubeInfo.size.x,</div><div class="line">    <span class="string">'height'</span>: <span class="keyword">this</span>.cubeInfo.size.y,</div><div class="line">    <span class="string">'borderColor'</span>: <span class="keyword">this</span>.cubeInfo.color</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">setPlaneOneStyles() &#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="string">"top"</span> : (<span class="keyword">this</span>.cubeInfo.size.y - <span class="keyword">this</span>.cubeInfo.size.z) / <span class="number">2</span> + <span class="string">"px"</span>,</div><div class="line">    <span class="string">"width"</span> : <span class="keyword">this</span>.cubeInfo.size.x + <span class="string">"px"</span>,</div><div class="line">    <span class="string">"height"</span> : <span class="keyword">this</span>.cubeInfo.size.z + <span class="string">"px"</span>,</div><div class="line">    <span class="string">"transform"</span> : <span class="keyword">this</span>.getTransformCSS(<span class="number">0</span>, <span class="keyword">this</span>.cubeInfo.size.y / <span class="number">2</span>),</div><div class="line">    <span class="string">"borderColor"</span>: <span class="keyword">this</span>.cubeInfo.color</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//.. 이하 생략</span></div></pre></td></tr></table></figure></p>
<h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><p><strong>JSX</strong><br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//CompareView.jsx</span></div><div class="line"><span class="comment">// ... 상단 생략 ...</span></div><div class="line">render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> cubes = <span class="keyword">this</span>.cubeInfoList &amp;&amp; <span class="keyword">this</span>.cubeInfoList.map(<span class="function"><span class="keyword">function</span>(<span class="params">info, index</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;Cube key=&#123;index&#125; cubeInfo=&#123;info&#125;/&gt;</div><div class="line">    )</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  return (</div><div class="line">    &lt;div id="container"</div><div class="line">      onTouchStart=&#123;this.handleTouchStart&#125;</div><div class="line">      onTouchMove=&#123;this.handleTouchMove&#125;</div><div class="line">      onTouchEnd=&#123;this.handleTouchEnd&#125;&gt;</div><div class="line">      &lt;div id="stage" style=&#123;this.setStyles()&#125;&gt;</div><div class="line">        &#123;cubes&#125;</div><div class="line">      &lt;/div&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  );</div><div class="line">&#125;,</div><div class="line"></div><div class="line">setStyles: function() &#123;</div><div class="line">  let style = &#123;</div><div class="line">    'width': this.width + 'px', </div><div class="line">    'left': this.left + 'px',</div><div class="line">    'transform': "rotateY(" + this.roateDeg + "deg)"</div><div class="line">    &#125;</div><div class="line">  return style;</div><div class="line">&#125;,</div><div class="line"></div><div class="line">//Cube.jsx</div><div class="line">render: function() &#123;</div><div class="line">  var cube = this.props.cubeInfo;</div><div class="line">  </div><div class="line">  return (</div><div class="line">    &lt;div className="cube backfaces" style=&#123;this.setBackfacesStyles()&#125;&gt;</div><div class="line">      &lt;div className="plane one" style=&#123;this.setPlaneOneStyles&#125;&gt;&lt;/div&gt;</div><div class="line">      &lt;div className=&#123;cube.isBiggest ? "plane two" : "plane two car_left_full"&#125; style=&#123;this.setPlaneTwoStyles()&#125;&gt;&lt;/div&gt;</div><div class="line">      &lt;div className="plane three" style=&#123;this.setPlaneThreeStyles()&#125;&gt;&lt;/div&gt;</div><div class="line">      &lt;div className="plane four" style=&#123;this.setPlaneFourStyles()&#125;&gt;&lt;/div&gt;</div><div class="line">      &lt;div className="plane five" style=&#123;this.setPlaneFiveStyles()&#125;&gt;&lt;/div&gt;</div><div class="line">      &lt;div className="plane six" style=&#123;this.setPlaneSixStyles()&#125;&gt;&lt;/div&gt;</div><div class="line">      &lt;SizeIndicator color=&#123;cube.color&#125; isBottom=&#123;cube.isBiggest&#125; width=&#123;cube.size.x&#125; height=&#123;cube.size.y&#125; depth=&#123;cube.size.z&#125; marks=&#123;cube.marks&#125; diff=&#123;cube.diff&#125;/&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  );</div><div class="line">&#125;,</div><div class="line">// ... 하단 생략 ...</div></pre></td></tr></table></figure></p>
<h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><h3 id="1차-시도-약간-삽질에-대한-잡설"><a href="#1차-시도-약간-삽질에-대한-잡설" class="headerlink" title="1차 시도(약간 삽질에 대한 잡설)"></a>1차 시도(약간 삽질에 대한 잡설)</h3><p>체감 성능: Angular2 &gt; React ~= Vanilla ???!</p>
<blockquote>
<p>Angular2 가 버벅임을 해결했다!? (삑!!~~~ No) </p>
</blockquote>
<p><strong>비밀은 minimum-scale=1.0 지정시 성능 저하문제</strong></p>
<p>현재 노트 4(Android 6.0.1) 기본 브라우저(삼성인터넷 4.0.20-65)에서는 헤더에 <code>minimum-scale=1.0</code> 이라고 메타 정보를 입력한 경우. <code>컨텐츠가 길어져 스크롤이 생기는 시점</code>에 엄청난 성능 저하가 발생합니다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, minimum-scale=1"</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="minimum-scale-bug.png" alt=""><br>첫 시도 시 Angular2 의 HTML 에만 위 옵션을 지정하지 않았습니다. 그래놓고는 Angular2 가 빠르다고 신기해하고 있었죠. </p>
<p>그런데 뭔가 석연치 않아 어디가 원인인지 하나씩 찾아가는 중에 발견한 부분입니다.</p>
<h3 id="2차-시도"><a href="#2차-시도" class="headerlink" title="2차 시도"></a>2차 시도</h3><ol>
<li>minimum-scale 은 모두 제거</li>
<li>삼성브라우저 대신에 chrome 모바일 버전으로 비교<ul>
<li>혹시나 모를 브라우저 잠재적 버그에 대한 대응?!<!-- 3. 또한 각각 플랫폼 별로 raf 가 적용된것과 적용되지 않은 것을 비교하였습니다. -->
</li>
</ul>
</li>
</ol>
<h4 id="결과-1"><a href="#결과-1" class="headerlink" title="결과"></a>결과</h4><p>사용자의 Touch 반응에 의해 즉각적으로 움직여야 하므로 반응성 부분이 중요한 부분입니다. </p>
<blockquote>
<p>그러나 실제 프레임워크 간의 프레임 차이가 두드러져 보이지 않았습니다.</p>
</blockquote>
<p>그래도 뭔가 차이를 찾아보고 싶어 Chrome 개발자 도구의 <code>Timeline</code> 을 열었습니다.</p>
<p><strong>1. CPU 점유율에서 다음과 같은 차이가 있었는데요.</strong></p>
<p><code>(낮을 수록 좋음)</code><br><strong>vanilla</strong> &lt;&lt; <strong>angular2</strong> &lt; <strong>react</strong></p>
<p><strong>2. 메모리 점유율도 다음과 같았습니다.</strong></p>
<p><code>(낮을 수록 좋음)</code><br><strong>vanilla</strong> &lt;&lt; <strong>angular2</strong> ~~ <strong>react</strong> (<code>~~</code>: 비슷)</p>
<p><strong>스크린샷(터치에 의한 회전정보 변경)</strong><br>왼쪽부터: <code>Vanilla -&gt; React -&gt; Angular2</code><br><img src="touch-version-compare.png" alt=""></p>
<p>추가적으로 <code>requestAnimationFrame(RAF)</code> 에 의해 DOM 정보를 갱신하는 방식에 대한 비교도 추가하였습니다.</p>
<p>그러나 아직 아래 프레임워크에 대한 경험이 많지 않아 각 <code>프레임워크 Way</code>를 따랐는지 몰라 일단 참고만 해주시면 좋겠습니다.()</p>
<blockquote>
<ol>
<li>React 는 직접 DOM 을 제어하지 않고 setState 를 통해 상태를 변경하는 방식을 취하였습니다</li>
<li>Angular2 는 아래와 같은 방식으로 사용했습니다.</li>
</ol>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">updateRotationDegV2() &#123;</div><div class="line">  <span class="keyword">this</span>.ngZone.runOutsideAngular(() =&gt; &#123;</div><div class="line">    requestAnimationFrame(() =&gt; &#123;</div><div class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.stageEl) &#123;</div><div class="line">        <span class="keyword">this</span>.renderer.setElementStyle(<span class="keyword">this</span>.stageEl, <span class="string">'transform'</span>, <span class="string">'rotateY('</span> + <span class="keyword">this</span>.roateDeg + <span class="string">'deg)'</span>);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="comment">//터치 중이면 RAF 를 통해 다시 frame 갱신</span></div><div class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.isTouching) &#123;</div><div class="line">        <span class="keyword">this</span>.updateRotationDegV2();</div><div class="line">      &#125;</div><div class="line">    &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>스크린샷(RAF 에 의한 회전정보 변경)</strong><br><img src="raf-version-compare.png" alt=""></p>
<blockquote>
<p>단, 위 정보의 세부 수치들이 매 테스트마다 조금씩 달라지므로, 절대적인 의미를 두지마시고, 대략적으로 이런 상대적인 차이를 보이는 구나 정도의 판단 근거로 봐주셨으면 합니다.</p>
</blockquote>
<p><strong>각 프레임별 프레임워크 호출 비용</strong></p>
<p>위에서 React 대비 Angular2 가 스크립트 비용이 좀더 적게 들었는데요. 각 프레임별로 확대해 비교해 보면 대략 아래와 같은 차이를 보입니다. </p>
<p><img src="frame-call-cost.png" alt=""></p>
<blockquote>
<p>touchmove 시점에 각 프레임워크에서 변화를 체크하고 DOM 에 반영하는 함수들이 호출되고 있는데요. Angular2 가 근소한 차이로 스크립트 비용이 적게 발생하고 있습니다.</p>
<p>한 프레임당 차지하는 프레임워크에 대한 비용 차이(노트4 기준)가 0 ~ 2ms 정도 되는 것 같습니다.</p>
</blockquote>
<h2 id="각-프레임워크에-대해-느낀-장단점"><a href="#각-프레임워크에-대해-느낀-장단점" class="headerlink" title="각 프레임워크에 대해 느낀 장단점"></a>각 프레임워크에 대해 느낀 장단점</h2><p>CPU 점유율 차이에 따른 모바일 배터리 소모가 조금 달라질 수는 있겠지만, 두 프레임워크 내에서 한 프레임당 차지하는 프레임워크에 대한 비용 차이가 절대적으로 큰 것은 아니기 때문에 이를 가지고 어떤 것이 성능이 좋다/나쁘다고 판단하는 것은 무리가 있을 거 같습니다. 중요한 것은 프레임 손실율이니까요.</p>
<h3 id="Angular-장-단"><a href="#Angular-장-단" class="headerlink" title="Angular 장/단"></a>Angular 장/단</h3><p><strong>장</strong></p>
<ul>
<li><strong>View 코드의 명확한 분리가 가능</strong><ul>
<li>관점의 전환 -&gt; View 는 진짜 View 에만 포커싱, View 에 바인딩된 데이터만 변경해 놓으면 알아서 갱신되는 방식</li>
</ul>
</li>
<li><strong>편리한 CLI</strong></li>
<li><strong>TypeScript</strong></li>
</ul>
<p><strong>단</strong></p>
<ul>
<li><strong>간단한 테스트 코드를 작성 불편</strong><ul>
<li>cli 와 plukr.co 로 커버되긴 하지만 기존 JS 개발자 입장에서 불편</li>
</ul>
</li>
<li><strong>점점 많아지는 코드들…</strong></li>
</ul>
<h3 id="React-장-단"><a href="#React-장-단" class="headerlink" title="React 장/단"></a>React 장/단</h3><p><strong>장</strong></p>
<ul>
<li><strong>트랜스파일러 환경구축없이 바로 실행해보기에 더 편함</strong></li>
</ul>
<p><strong>단</strong></p>
<ul>
<li><strong>JSX - 마크업과 JavaScript 의 모호한 경계</strong><ul>
<li>예전에는 JS 개발상 어쩔 수 없다고 생각했는데, 트랜스파일 환경이 일반화된 요즘은…</li>
</ul>
</li>
</ul>
<h2 id="마지막-의견"><a href="#마지막-의견" class="headerlink" title="마지막 의견"></a>마지막 의견</h2><p>프레임워크에 대한 경험이 부족한 상태에서 비교한 것이라 결과물 또한 초보적인 수준이라고 생각이 됩니다.</p>
<p>일단 체감적인 성능차이(FPS)는 크지 않았습니다. 일단 Vanilla 구현을 제외하고 얘기를 하면 React 가 Angular 대비 다소 높은 CPU 점유율을 보여주지만 성능에 큰 영향을 줄 정도는 아니었습니다.</p>
<p>두 프레임워크 모두 진화하는 중이며 성능은 지금보다 더 결국 상향 평준화 될 것으로 기대되고 어쩌며 이런 비교는 무의미할 수도 있을 거 같기도 합니다. (<em>그러나 눈으로 확인해야 직성이 풀리니 이런 비교는 계속 하고 싶습니다.</em>)</p>
<p>결국 어떤 프레임워크가 나 혹은 우리에게 적합한 방식인지가 중요한 것 같습니다. 저의 경우에는 Angular2 가 data 와 View 를 좀 더 명확하게 분리하려고 한 느낌을 받았습니다. 그래서 관심사에만 더 집중할 수 있게 해준 Angular2 방식이 좀더 마음에 끌립니다.</p>
<h2 id="기타"><a href="#기타" class="headerlink" title="기타"></a>기타</h2><ul>
<li>어떤 이유 때문에 스크립트 비용 차이가 있는걸까 ? 비교 방식의 차이라고 추측은 하지만 그 추측이 맞나?</li>
</ul>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://jongmoon.github.io/blog/blog/2016/11/14/reactive-ui-framework-comparison/" data-id="ciz3qkpzc000coaw6uxvilqhm" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/blog/2017/02/13/ng-onpush-mechanism/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            OnPush 동작 방식 이해
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/blog/2016/10/27/ngstyle-is-not-applied/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">ngStyle 로 스타일이 반영되지 않아요.</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2017/02/13/ng-onpush-mechanism/" class="thumbnail">
    
    
        <span style="background-image:url(AppView.detectChanges.png)" alt="OnPush 동작 방식 이해" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/blog/2017/02/13/ng-onpush-mechanism/" class="title">OnPush 동작 방식 이해</a></p>
                            <p class="item-date"><time datetime="2017-02-13T06:34:58.000Z" itemprop="datePublished">2017-02-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2016/11/14/reactive-ui-framework-comparison/" class="thumbnail">
    
    
        <span style="background-image:url(car-vs.gif)" alt="간단한 Reactive UI 의 Angular2, React 구현 비교" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/blog/2016/11/14/reactive-ui-framework-comparison/" class="title">간단한 Reactive UI 의 Angular2, React 구현 비교</a></p>
                            <p class="item-date"><time datetime="2016-11-14T13:02:35.000Z" itemprop="datePublished">2016-11-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2016/10/27/ngstyle-is-not-applied/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/blog/2016/10/27/ngstyle-is-not-applied/" class="title">ngStyle 로 스타일이 반영되지 않아요.</a></p>
                            <p class="item-date"><time datetime="2016-10-27T14:01:54.000Z" itemprop="datePublished">2016-10-27</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2016/10/25/doctype-and-position-absolute/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/blog/2016/10/25/doctype-and-position-absolute/" class="title">position absolute 와 doctype 에 따른 height 이슈</a></p>
                            <p class="item-date"><time datetime="2016-10-25T14:03:47.000Z" itemprop="datePublished">2016-10-25</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2016/10/17/angular2-karma-testing-environment-setting-difficulties/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/blog/2016/10/17/angular2-karma-testing-environment-setting-difficulties/" class="title">Angular2 Quick Start 소스를 참고하여 Karma 테스팅 환경 설정해 보기</a></p>
                            <p class="item-date"><time datetime="2016-10-17T02:43:26.000Z" itemprop="datePublished">2016-10-17</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/02/">February 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/10/">October 2016</a><span class="archive-list-count">4</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/HTML-position-absolute-DOCTYPE/">HTML, position:absolute, DOCTYPE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/angular2-ng2-ngStyle/">angular2, ng2, ngStyle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ng2-angular2-react/">ng2, angular2, react</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/blog/tags/HTML-position-absolute-DOCTYPE/" style="font-size: 10px;">HTML, position:absolute, DOCTYPE</a> <a href="/blog/tags/angular2-ng2-ngStyle/" style="font-size: 10px;">angular2, ng2, ngStyle</a> <a href="/blog/tags/ng2-angular2-react/" style="font-size: 10px;">ng2, angular2, react</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/blog/" class="logo"></a>
                </h1>
                <p>&copy; 2017 John Doe</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'jongmoon';
    
    
    var disqus_url = 'https://jongmoon.github.io/blog/blog/2016/11/14/reactive-ui-framework-comparison/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/blog/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-video.min.js"></script>
    


<!-- Custom Scripts -->
<script src="/blog/js/main.js"></script>

    </div>
</body>
</html>
